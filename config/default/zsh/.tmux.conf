# -- Settings

## set leader
set -g prefix C-a

## reset cursor
set -ga terminal-overrides '*:Ss=\E[%p1%d q:Se=\E[ q'

## mouse resize
set -g mouse on

## base index
set -g base-index 1

## status bar position
set-option -g status-position top

## address vim mode switching delay (http://superuser.com/a/252717/65504)
set-option -s escape-time 0

## increase scrollback buffer size
set-option -g history-limit 20000

## increase display time
set-option -g display-time 4000

## increase status refresh rate
set-option -g status-interval 10

## emacs key bindings in tmux command prompt (prefix + :) are better than
set-option -g status-keys emacs

## focus events enabled for terminals that support them
set-option -g focus-events on

## super useful when using "grouped sessions" and multi-monitor setup
setw -g aggressive-resize on

# -- Keybinds --

## reload config
unbind r
bind r source-file ~/.tmux.conf \; display-message 'Reloaded'
bind C-r source-file ~/.tmux.conf \; display-message 'Reloaded'

## navigation
bind-key h   select-pane -L
bind-key C-h select-pane -L

bind-key j   select-pane -D
bind-key C-j select-pane -D

bind-key k   select-pane -U
bind-key C-k select-pane -U

bind-key l   select-pane -R
bind-key C-l select-pane -R

## window creation
bind-key c new-window
bind-key C-c new-window
bind-key C new-window -c "#{pane_current_path}"

## splits
bind-key \\ split-window -h -c "#{pane_current_path}"
bind-key C-\\ split-window -h -c "#{pane_current_path}"

bind-key | split-window -fh -c "#{pane_current_path}"
bind-key C-| split-window -fh -c "#{pane_current_path}"

bind-key - split-window -v -c "#{pane_current_path}"
bind-key C-\- split-window -v -c "#{pane_current_path}"

bind-key _ split-window -fv -c "#{pane_current_path}"
bind-key C-_ split-window -fv -c "#{pane_current_path}"

## resize
bind-key -r H resize-pane -L 5
bind-key -r J resize-pane -D 5
bind-key -r K resize-pane -U 5
bind-key -r L resize-pane -R 5

## move
bind-key -r < swap-window -d -t -1
bind-key -r > swap-window -d -t +1

## resend prefix on double press
bind-key C-a send-prefix

## last window reassign
bind-key a last-window

## switching next/prev window
bind-key C-p previous-window
bind-key C-n next-window

## close pane
bind C-x confirm kill-pane

# -- Theme --
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"

run ~/.config/tmux/plugins/catppuccin/tmux/catppuccin.tmux

set -g status-bg "#1e1e1f"
set -g status-right-length 100
set -g status-left-length 100
set -g status-left ""
set -g status-right "#{E:@catppuccin_status_application}"
set -g status-right "#{E:@catppuccin_status_application}"
